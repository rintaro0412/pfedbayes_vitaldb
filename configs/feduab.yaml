run:
  out_dir: runs/feduab
  run_name: seed0
  resume: false

data:
  data_dir: federated_data
  train_split: train
  test_split: test

train:
  rounds: 100
  local_epochs: 1
  batch_size: 256
  lr: 0.001
  weight_decay: 0.0001
  seed: 42
  num_workers: 32
  min_client_examples: 10
  test_every_round: true
  per_client_every_round: true
  mc_train: 5
  mc_samples: 25
  kl_coeff: 0.0001
  loss_type: bce
  pos_weight: auto
  grad_clip: 0.0
  max_steps: 0
  clients_per_round: 0
  client_fraction: 1.0
  train_deterministic: false

model:
  full_bayes: true
  prior_sigma: 0.1
  var_reduction_h: 2.0
  logvar_min: -12.0
  logvar_max: 6.0
  param_type: rho
  mu_init: zeros
  init_rho: null
  backbone_checkpoint: null
  base_channels: 32
  dropout: 0.1
  use_gru: true
  gru_hidden: 64

agg:
  mode: feduab
  beta_mode: normalized
  beta_value: 1.0
  precision_clamp: 0.000001
  client_weight_mode: samples

eval:
  eval_threshold: 0.5
  eval_personalized: true
  eval_global: true
  eval_ensemble: true
